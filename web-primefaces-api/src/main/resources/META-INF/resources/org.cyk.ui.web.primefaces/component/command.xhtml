<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<cc:interface componentType="org.cyk.ui.primefaces.Command">
		<cc:attribute name="value" required="true" />
		<cc:attribute name="executeParameter" required="false" />
	</cc:interface>

	<cc:implementation>
		<p:commandButton id="#{cc.id}CommandButton"
			action="#{cc.value.commandable.command.execute(cc.attrs.executeParameter)}" 
			process="#{cc.value.commandButton.process}" 
			update="#{cc.value.commandButton.update}"
			oncomplete="#{cc.value.commandButton.oncomplete}"
			value="#{cc.value.commandButton.value}" 
			icon="#{cc.value.commandButton.icon}"
			rendered="#{cc.value.commandButton.rendered}"
			title="#{cc.value.commandButton.title}">
			
			<p:ajax event="dialogReturn" listener="#{cc.value.onDialogReturn}" />
			
			<!--
			<p:confirm header="#{uiManager.text('confirmation')}" message="#{uiManager.text('command.execution.confirmation.question')}" icon="ui-icon-alert" />
			-->
		</p:commandButton>
		
		<p:confirmDialog global="true">
	        <p:commandButton value="#{uiManager.text('yes')}" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
	        <p:commandButton value="#{uiManager.text('no')}" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
	    </p:confirmDialog>
			
	</cc:implementation>

</ui:composition>