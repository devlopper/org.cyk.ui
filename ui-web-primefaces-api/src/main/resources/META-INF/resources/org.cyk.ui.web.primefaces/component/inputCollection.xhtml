<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:cyk="http://xmlns.jcp.org/jsf/composite/org.cyk.ui.web.primefaces/component"
	xmlns:cyk_incubation="http://xmlns.jcp.org/jsf/composite/org.cyk.ui.web.primefaces/component_incubation">

	<cc:interface componentType="org.cyk.ui.web.primefaces.compositecomponent.InputCollection">
		<cc:attribute name="value" required="true" />
	</cc:interface>

	<cc:implementation>
		<cyk_incubation:command value="#{cc.value.addCommand}">
 			
 		</cyk_incubation:command>
		<p:dataTable id="datatable" value="#{cc.value.collection.collection}" var="item" rowIndexVar="index" emptyMessage="" rendered="#{cc.value!=null}"
			>
        	<!--
        	<f:facet name="header">
        		<table>
        			<tr>
        				<ui:fragment rendered="#{cc.value.inputChoice != null and (cc.value.crud.ordinal() == 0 or cc.value.crud.ordinal() == 2)}" ><td>
        					<table>
        						<tr>
        							<td>
								       	<cyk:inputOneCombo value="#{cc.value.inputChoice}"/>
        							</td>
        							<td width="30px">
        								<cyk:command value="#{cc.value.addCommandable}"/>
        							</td>
        						</tr>
        					</table>
        				</td></ui:fragment> 
        				
        				<td style="width: 55%">
        					<h:outputText value="#{cc.value.label}" />
        				</td>
        			</tr>
        		</table>
        	</f:facet>	
        	-->
        	<!--
       		<p:column headerText="#" width="10">
       			<h:outputText value="#{index+1}" />
       			<f:facet name="footer">
       				<ui:fragment rendered="#{cc.value.showAddCommandableAtBottom}"><cyk:command value="#{cc.value.addCommandable}"/></ui:fragment>
       			</f:facet>
       		</p:column>
       		-->
       		<p:column headerText="#{cc.value.elementNameColumnName}" rendered="#{cc.value.isShowElementNameColumn}">
 				<h:outputText value="#{item.name}"/>
 			</p:column>
       		
       		<cc:insertChildren/>
       		<!--
       		<p:column width="8%" headerText="#{cc.value.applicableValueQuestion.label}" rendered="#{cc.value.editable and cc.value.applicableValueQuestion.rendered}">
       			<p:selectBooleanCheckbox value="#{item.applicable}" >
					<f:selectItems value="#{cc.value.applicableValueQuestion.answers}" />
					<p:ajax event="change" update="#{cc.value.applicableValueQuestion.update}" />
				</p:selectBooleanCheckbox>	
       		</p:column>
       		-->
       		<!--  rendered="#{cc.value.editable and cc.value.deleteCommandable.rendered}"  -->
       		<p:column width="4%" > 
       			<!--cyk:command value="#{cc.value.deleteCommandable}" executeParameter="#{item}"/-->
       			<cyk_incubation:command value="#{cc.value.deleteCommand}" executeParameter="#{item}"/>
       		</p:column>
       		
       	</p:dataTable>
			
	</cc:implementation>

</ui:composition>