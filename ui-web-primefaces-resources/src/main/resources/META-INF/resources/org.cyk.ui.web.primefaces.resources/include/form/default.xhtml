<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
	
	<style>
 		.ui-panel-titlebar{
 			display: #{form.propertiesMap.headerRendered ? 'block' : 'none'};
 		}
 		
 		.ui-panel-footer{
 			display: #{form.propertiesMap.footerRendered ? 'block' : 'none'};
 		}
 	</style>
	
	<p:panel styleClass="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container">
		<f:facet name="header">
			<ui:insert name="header">			
				<ui:insert name="label">
					<ui:decorate template="#{form.label.propertiesMap.template}">
					 	<ui:param name="outputText" value="#{form.label}" />
					 </ui:decorate>		  
				</ui:insert>	
			</ui:insert>
		</f:facet>
			    
    	<ui:insert name="body">
	   		<div>
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r1_c1"></div>
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r1_c2">
					<ui:insert name="form_master_container_body_r1_c2">
						<ui:param name="dataTable" value="#{form.detail.getDataTableAtIndex(0,false)}" />
	 					<ui:decorate template="#{dataTable == null ? primefacesResourcesManager.dummyEmptyContentDefaultTemplate : primefacesResourcesManager.dataTableDefaultTemplate}"/>
	 			
	 					<ui:param name="dataTable" value="#{form.detail.getDataTableAtIndex(1,false)}" />
	 					<ui:decorate template="#{dataTable == null ? primefacesResourcesManager.dummyEmptyContentDefaultTemplate : primefacesResourcesManager.dataTableDefaultTemplate}"/>
					</ui:insert>
				</div>
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r1_c3"></div>
				
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r2_c1"></div>
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r2_c2">
					<ui:insert name="form_master_container_body_r2_c2">
						<p:outputPanel styleClass="" rendered="#{form.detail.propertiesMap.rendered}">
							<ui:decorate template="#{form.detail.propertiesMap.template}">
					 			<ui:param name="detail" value="#{form.detail}" />
					 		</ui:decorate>   	
						</p:outputPanel>
					</ui:insert>
				</div>
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r2_c3"></div>
				
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r3_c1"></div>
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r3_c2">
					<ui:insert name="form_master_container_body_r3_c2">
						<ui:param name="dataTable" value="#{form.detail.getDataTableAtIndex(0,true)}" />
	 					<ui:decorate template="#{dataTable == null ? primefacesResourcesManager.dummyEmptyContentDefaultTemplate : primefacesResourcesManager.dataTableDefaultTemplate}"/>
	 			
	 					<ui:param name="dataTable" value="#{form.detail.getDataTableAtIndex(1,true)}" />
	 					<ui:decorate template="#{dataTable == null ? primefacesResourcesManager.dummyEmptyContentDefaultTemplate : primefacesResourcesManager.dataTableDefaultTemplate}"/>
					</ui:insert>
				</div>
				<div class="#{cascadeStyleSheetHelper.getClassPrefix()}form_master_container_body_r3_c3"></div>
			</div>
		</ui:insert>
		
		<f:facet name="footer">
			<ui:insert name="footer">
			 	<ui:insert name="menu">
				    <ui:decorate template="#{form.submitCommand.propertiesMap.template}">
		 				<ui:param name="commandButton" value="#{form.submitCommand}" />
		 				<ui:param name="executeParameter" value="FormParamValue"/>
		 			</ui:decorate> 
				</ui:insert>
			</ui:insert>
		</f:facet>
	 	
	</p:panel>
	
	<ui:decorate template="#{primefacesResourcesManager.getTemplate(form.propertiesMap.interactivityBlocker)}">
		<ui:param name="blockUI" value="#{form.propertiesMap.interactivityBlocker}"/>
	</ui:decorate>
	
</ui:composition>