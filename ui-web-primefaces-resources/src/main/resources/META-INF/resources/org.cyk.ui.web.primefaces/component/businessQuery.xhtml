<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:cyk="http://xmlns.jcp.org/jsf/composite/org.cyk.ui.web.primefaces/component">

	<cc:interface componentType="org.cyk.ui.web.primefaces.compositecomponent.BusinessQuery">
		<cc:attribute name="value" required="true" />
		<cc:renderFacet name="graphics" />
		<cc:renderFacet name="tabs" />
	</cc:interface>

	<cc:implementation>
		<table><tr style="vertical-align: middle !important;">
			<td><cyk:formOneData value="#{cc.value.form}" /></td>
			<td style=""><div style="margin-bottom: 5px;"></div> <cyk:command value="#{cc.value.form.submitCommandable}"/></td>
		</tr> </table>
		
		<p:separator/>
		<p:outputPanel id="resultsOutputPanel" >
			<!--cyk:table value="#{cc.value.table}" /-->
			
			<p:outputPanel rendered="#{cc.value.showGraphics}" >
				<p:tabView id="saletabview">
	 				<p:tab id="tabletab" title="#{uiManager.text('datatable')}" >
	 					<cyk:table value="#{cc.value.table}" />	
	 				</p:tab>
	 				<p:tab title="#{uiManager.text('graphic')}" rendered="#{cc.value.showGraphics}">
	 					<cc:renderFacet name="graphics" />
	 				</p:tab>
	 			</p:tabView>
 			</p:outputPanel>
			
			<p:outputPanel rendered="#{not cc.value.showGraphics}" >
				<cyk:table value="#{cc.value.table}" />	
			</p:outputPanel>
				
		</p:outputPanel>
	</cc:implementation>

</ui:composition>